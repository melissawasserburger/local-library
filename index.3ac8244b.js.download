var g=Object.defineProperty,y=Object.defineProperties;var v=Object.getOwnPropertyDescriptors;var m=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var f=(e,t,r)=>t in e?g(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,_=(e,t)=>{for(var r in t||(t={}))k.call(t,r)&&f(e,r,t[r]);if(m)for(var r of m(t))B.call(t,r)&&f(e,r,t[r]);return e},h=(e,t)=>y(e,v(t));import{m as mapGetters,o as openBlock,c as createElementBlock,a as createTextVNode,t as toDisplayString,b as createCommentVNode,d as createBaseVNode,e as mapMutations,n as normalizeClass,r as ref,u as useIntersectionObserver,f as renderSlot,g as normalizeStyle,h as render,i as render$1,j as render$2,k as resolveComponent,l as createBlock,p as createVNode,F as Fragment,q as renderList,s as diff,w as withDirectives,v as vShow,x as resolveDynamicComponent,y as render$3,z as render$4,A as mapState,B as withCtx,C as axios,D as createStore,E as connectToParent,G as createApp,H as init}from"./vendor.39b8827f.js";const p=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}};p();var RunMessage_vue_vue_type_style_index_0_lang="",_export_sfc=(e,t)=>{const r=e.__vccOpts||e;for(const[o,n]of t)r[o]=n;return r};const _sfc_main$p={name:"run-message",computed:_({},mapGetters(["runMessage","ran"]))},_hoisted_1$l={key:0,class:"run-message"},_hoisted_2$d=createBaseVNode("span",{class:"message-label"},"Status: ",-1);function _sfc_render$p(e,t,r,o,n,s){return e.runMessage&&!e.ran?(openBlock(),createElementBlock("div",_hoisted_1$l,[_hoisted_2$d,createTextVNode(" "+toDisplayString(e.runMessage),1)])):createCommentVNode("",!0)}var RunMessage=_export_sfc(_sfc_main$p,[["render",_sfc_render$p]]);const _sfc_main$o={name:"run-summary",props:["showErrors"],computed:h(_(_({},mapGetters("ui",["onlyShowPassed","onlyShowFailed","onlyShowErrored","filterIsActive"])),mapGetters(["hasTests","ran"])),{timedOut(){return this.response&&this.response.flags&&this.response.flags.timeout},response(){return this.$store.state.runner.response||{result:{}}},isExecutionFailure(){return this.response.flags&&this.response.flags.executionFailure},isPrivileged(){return this.$store.getters.isPrivileged},successResult(){var e;return this.response.result.successMode&&(e=this.response.result[this.response.result.successMode]),e||this.response.result},passed(){return this.isPrivileged&&this.successResult.hidden?this.successResult.passed+(this.successResult.hidden.passed||0):this.successResult.passed},failed(){return this.isPrivileged&&this.successResult.hidden?this.successResult.failed+(this.successResult.hidden.failed||0):this.successResult.failed},errors(){if(!this.response)return 0;const e=this.response,t=e.result;return t&&t.errors?t.errors:!e.exitCode||t&&t.output&&t.output.length>0?0:e.stderr?1:0},showExitCode(){const e=this.successResult;if(!this.isPrivileged&&e.hidden&&e.hidden.failed>0&&!e.failed)return!1;const t=this.response;return!t.completed&&!!t.exitCode},failedDisplay(){const e=this.failed;return this.timedOut?e>0?`${e}+`:"?":e+""}}),methods:_({},mapMutations("ui",["togglePassedTestsFilter","toggleFailedTestsFilter","toggleErroredTestsFilter","clearTestsFilter"]))},_hoisted_1$k={key:0,class:"p-4 tracking-wider flex justify-between border-0 border-b border-solid border-black/10 dark:border-white/20"},_hoisted_2$c={key:0,class:"failed"},_hoisted_3$9={key:1},_hoisted_4$5=createBaseVNode("span",null,"Time:",-1),_hoisted_5$3=createBaseVNode("span",null,"Passed",-1),_hoisted_6$2=createBaseVNode("span",null,"Failed",-1),_hoisted_7$2=createBaseVNode("span",null,"Errors",-1),_hoisted_8$2={key:5,class:"ml-1 p-1 errors"},_hoisted_9$2=createBaseVNode("span",null,"Exit Code",-1);function _sfc_render$o(e,t,r,o,n,s){return s.response&&!s.isExecutionFailure?(openBlock(),createElementBlock("div",_hoisted_1$k,[createBaseVNode("div",null,[s.timedOut?(openBlock(),createElementBlock("span",_hoisted_2$c,"Timed Out")):(openBlock(),createElementBlock("span",_hoisted_3$9,[_hoisted_4$5,createTextVNode(" "+toDisplayString(s.response.result.wallTime||0)+"ms ",1)])),e.hasTests?(openBlock(),createElementBlock("span",{key:2,class:normalizeClass(["ml-2 p-1 cursor-pointer rounded",{passed:s.passed,"bg-black/10 dark:bg-white/10":e.onlyShowPassed}]),onClick:t[0]||(t[0]=(...a)=>e.togglePassedTestsFilter&&e.togglePassedTestsFilter(...a))},[_hoisted_5$3,createTextVNode(": "+toDisplayString(s.passed),1)],2)):createCommentVNode("",!0),e.hasTests?(openBlock(),createElementBlock("span",{key:3,class:normalizeClass(["ml-1 p-1 cursor-pointer rounded",{failed:s.failed>0||s.timedOut,"bg-black/10 dark:bg-white/10":e.onlyShowFailed}]),onClick:t[1]||(t[1]=(...a)=>e.toggleFailedTestsFilter&&e.toggleFailedTestsFilter(...a))},[_hoisted_6$2,createTextVNode(": "+toDisplayString(s.failedDisplay),1)],2)):createCommentVNode("",!0),s.errors?(openBlock(),createElementBlock("span",{key:4,class:normalizeClass(["ml-1 p-1 cursor-pointer rounded",{errors:s.errors,"bg-black/10 dark:bg-white/10":e.onlyShowErrored}]),onClick:t[2]||(t[2]=(...a)=>e.toggleErroredTestsFilter&&e.toggleErroredTestsFilter(...a))},[_hoisted_7$2,createTextVNode(": "+toDisplayString(s.errors),1)],2)):createCommentVNode("",!0),s.showExitCode?(openBlock(),createElementBlock("span",_hoisted_8$2,[_hoisted_9$2,createTextVNode(": "+toDisplayString(s.response.exitCode),1)])):createCommentVNode("",!0)]),createBaseVNode("div",null,[e.filterIsActive?(openBlock(),createElementBlock("span",{key:0,onClick:t[3]||(t[3]=(...a)=>e.clearTestsFilter&&e.clearTestsFilter(...a)),class:"cursor-pointer p-1 rounded hover:bg-black/10 dark:hover:bg-white/10"},"Show All")):createCommentVNode("",!0)])])):createCommentVNode("",!0)}var RunSummary=_export_sfc(_sfc_main$o,[["render",_sfc_render$o]]);const _sfc_main$n={props:{lazy:{type:Boolean,default:!0},minHeight:Number},setup(e){if(!e.lazy)return{};const t=ref(!1),r=ref(),{stop:o}=useIntersectionObserver(r,([{isIntersecting:n}])=>{n&&(t.value=!0,o())},{rootMargin:"1000px"});return{targetEl:r,shouldRender:t}}},_hoisted_1$j={key:1};function _sfc_render$n(e,t,r,o,n,s){return r.lazy?(openBlock(),createElementBlock("div",{key:0,ref:"targetEl",style:normalizeStyle(`min-height:${r.minHeight}px`)},[o.shouldRender?renderSlot(e.$slots,"default",{key:0}):createCommentVNode("",!0)],4)):(openBlock(),createElementBlock("div",_hoisted_1$j,[renderSlot(e.$slots,"default")]))}var LazyContainer=_export_sfc(_sfc_main$n,[["render",_sfc_render$n]]);function guid(){const e=()=>Math.floor((1+Math.random())*65536).toString(16).substring(1);return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}const HTML_TAGS=["a","b","blockquote","br","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","dfn","div","dl","dt","em","h1","h2","h3","h4","h5","h6","hr","i","img","label","legend","li","meter","ol","p","pre","samp","script","small","span","strong","sub","sup","svg","table","tbody","td","textarea","tfoot","th","thead","tr","u","ul"],autoDetectHtmlTagsRegex=new RegExp(`<(${HTML_TAGS.join("|")})( [a-zA-Z-]*=.*)*( ?/)?>`);function detectHtml(e){return e?e.indexOf("<!doctype html>")>=0||autoDetectHtmlTagsRegex.test(e):!1}function endsWithAny(e,t){return!!t.find(r=>new RegExp(`${r}$`).test(e))}var RunValue_vue_vue_type_style_index_0_lang="";const _sfc_main$m={name:"run-value",props:{value:String,alwaysHtml:Boolean,scripts:Boolean},computed:{shouldDetectHtml(){return this.$store.state.runner.detectHTML},isHtml(){return this.alwaysHtml||this.shouldDetectHtml&&detectHtml(this.value)},isEscaped(){return this.shouldDetectHtml&&/(&[a-z]{2,6};|&#x[\da-fA-F]+;|&#\d+;)/.test(this.value)},trimmedValue(){return(this.value||"").replace(/\n$/,"")},processedValue(){return this.isHtml&&this.scripts&&runScripts(this.value||""),this.trimmedValue}}};function runScripts(value){if(/<script/.test(value)){const el=document.createElement("div");el.innerHTML=value;const scripts=el.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){const script=scripts[i];script&&script.innerHTML&&setTimeout(()=>{try{eval(script.innerHTML)}catch(e){console.error("Failed to run output script:",e,script.innerHTML)}})}return scripts}}const _hoisted_1$i=["innerHTML"],_hoisted_2$b={key:1,class:"run-value"};function _sfc_render$m(e,t,r,o,n,s){return s.isHtml||s.isEscaped?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(["run-value",{"run-value--html":s.isHtml,"run-value--escaped":!s.isHtml&&s.isEscaped}]),innerHTML:s.processedValue},null,10,_hoisted_1$i)):(openBlock(),createElementBlock("span",_hoisted_2$b,toDisplayString(s.trimmedValue),1))}var RunValue=_export_sfc(_sfc_main$m,[["render",_sfc_render$m]]),TreeType_vue_vue_type_style_index_0_lang="";const _sfc_main$l={name:"tree-type",props:["item","collapsed"],computed:{isHidden(){return!!this.item.hidden},resultName(){return this.item.p?"passed":"failed"},passedChildren(){return this.findChildren("passed")},failedChildren(){return this.findChildren("failed")},totalAssertions(){return this.passedChildren+this.failedChildren},isPrivileged(){return this.$store.getters.isPrivileged}},methods:{findChildren(e){return this.item.items?(this.item.items.filter(t=>t.t===e)||[]).length:0},toggle(){this.$parent.$emit("toggle-children",!!this.collapsed)}},components:{RunValue,EyeOffIcon:render,ChevronRightIcon:render$1,ChevronDownIcon:render$2}},_hoisted_1$h={key:0,class:"result-type--tree__collapsed-summary"},_hoisted_2$a={title:"This test is hidden from view when taking this challenge",class:"inline-flex items-center space-x-1 align-middle"},_hoisted_3$8=createBaseVNode("span",null,"Hidden Test",-1);function _sfc_render$l(e,t,r,o,n,s){const a=resolveComponent("ChevronRightIcon"),c=resolveComponent("ChevronDownIcon"),l=resolveComponent("run-value"),d=resolveComponent("EyeOffIcon");return openBlock(),createElementBlock("div",{class:normalizeClass(["result-type--tree py-1 my-1",[`result-type--${r.item.t}`,r.collapsed?"result-type--tree--collapsed":"result-type--tree--expanded"]])},[createBaseVNode("div",{class:"cursor-pointer inline-flex items-center justify-center space-x-0.5",onClick:t[0]||(t[0]=(...u)=>s.toggle&&s.toggle(...u))},[createBaseVNode("div",{class:normalizeClass(s.resultName)},[r.collapsed?(openBlock(),createBlock(a,{key:0,class:"w-4 h-4 grow-0 shrink-0 basis-4"})):(openBlock(),createBlock(c,{key:1,class:"w-4 h-4 grow-0 shrink-0 basis-4"}))],2),createVNode(l,{class:normalizeClass(["result-type__value",`result-type__value--${s.resultName}`,"leading-relaxed"]),value:r.item.v,"ignore-escape":!0},null,8,["class","value"])]),r.item.t=="it"&&r.collapsed&&s.totalAssertions>1?(openBlock(),createElementBlock("span",_hoisted_1$h," ("+toDisplayString(s.passedChildren)+" of "+toDisplayString(s.totalAssertions)+" Assertions) ",1)):createCommentVNode("",!0),s.isPrivileged&&s.isHidden?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(["result-type--tree__tags",s.resultName])},[createBaseVNode("span",_hoisted_2$a,[createVNode(d,{class:"h-3 w-3"}),_hoisted_3$8])],2)):createCommentVNode("",!0)],2)}var TreeType=_export_sfc(_sfc_main$l,[["render",_sfc_render$l]]);const _sfc_main$k={name:"esc-mode",props:["item"],computed:{}};function _sfc_render$k(e,t,r,o,n,s){return openBlock(),createElementBlock("pre",null,toDisplayString(r.item.v),1)}var EscMode=_export_sfc(_sfc_main$k,[["render",_sfc_render$k]]),HtmlMode_vue_vue_type_style_index_0_lang="";const _sfc_main$j={name:"html-mode",props:["item"],computed:{},components:{RunValue}},_hoisted_1$g={class:"mode mode--html"};function _sfc_render$j(e,t,r,o,n,s){const a=resolveComponent("run-value");return openBlock(),createElementBlock("div",_hoisted_1$g,[createVNode(a,{class:"mode--html__value",value:r.item.v,scripts:!0,"always-html":!0},null,8,["value"])])}var HtmlMode=_export_sfc(_sfc_main$j,[["render",_sfc_render$j]]);const _sfc_main$i={name:"script-mode",props:["item"],computed:{value(){const e="/script>";return`<script>${this.item.v}<${e}`}},components:{RunValue}};function _sfc_render$i(e,t,r,o,n,s){const a=resolveComponent("run-value");return openBlock(),createBlock(a,{value:s.value,scripts:!0},null,8,["value"])}var ScriptMode=_export_sfc(_sfc_main$i,[["render",_sfc_render$i]]),TableMode_vue_vue_type_style_index_0_lang="";const _sfc_main$h={name:"table-mode",props:["item"],data(){return{expanded:!1}},computed:{preview(){return!this.expanded&&this.table.rows.length>10},table(){return parseData$1(this.item.v)}}};function parseData$1(e){try{var t=JSON.parse(e);if(t.length)return{cols:Object.keys(t[0]),rows:t};var r=[],o=[];for(var n in t)r.push(n),t[n].forEach((s,a)=>{o[a]||(o[a]=[]),o[a].push(s)});return{cols:r,rows:o}}catch(s){return console.error(s),{}}}const _hoisted_1$f={class:"mode mode--table"},_hoisted_2$9={key:0},_hoisted_3$7={key:0};function _sfc_render$h(e,t,r,o,n,s){return openBlock(),createElementBlock("div",_hoisted_1$f,[createBaseVNode("div",{class:normalizeClass({"mode--table--preview":s.preview})},[s.table.rows?(openBlock(),createElementBlock("table",_hoisted_2$9,[r.item.caption?(openBlock(),createElementBlock("caption",_hoisted_3$7,toDisplayString(r.item.caption),1)):createCommentVNode("",!0),createBaseVNode("tr",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.table.cols,(a,c)=>(openBlock(),createElementBlock("th",{key:c},toDisplayString(a),1))),128))]),(openBlock(!0),createElementBlock(Fragment,null,renderList(s.table.rows,(a,c)=>(openBlock(),createElementBlock("tr",{key:c},[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.table.cols,(l,d)=>(openBlock(),createElementBlock("td",{key:d},toDisplayString(a[l]),1))),128))]))),128))])):createCommentVNode("",!0)],2),s.preview?(openBlock(),createElementBlock("div",{key:0,class:"mode--table__view-full",onClick:t[0]||(t[0]=a=>n.expanded=!0)}," Show All ")):createCommentVNode("",!0)])}var TableMode=_export_sfc(_sfc_main$h,[["render",_sfc_render$h]]);const scriptRel="modulepreload",seen={},base="/",__vitePreload=function e(t,r){return!r||r.length===0?t():Promise.all(r.map(o=>{if(o=`${base}${o}`,o in seen)return;seen[o]=!0;const n=o.endsWith(".css"),s=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${s}`))return;const a=document.createElement("link");if(a.rel=n?"stylesheet":scriptRel,n||(a.as="script",a.crossOrigin=""),a.href=o,document.head.appendChild(a),n)return new Promise((c,l)=>{a.addEventListener("load",c),a.addEventListener("error",l)})})).then(()=>t())},_sfc_main$g={name:"chart-mode",props:["item"],data(){return{chart:null,error:null}},computed:{chartData(){try{return JSON.parse(this.item.v)}catch(e){return this.error="Error parsing JSON: "+e.message,null}},width(){return this.$parent.$el.offsetWidth-30}},methods:{draw(){this.chart&&this.chart.destroy(),this.chart=new this.chartJs.Chart(this.$refs.chart.getContext("2d"),this.chartData)}},mounted(){__vitePreload(()=>import("./Chart.351117c6.js").then(function(e){return e.C}),["assets/Chart.351117c6.js","assets/vendor.39b8827f.js"]).then(e=>{this.chartJs=e,e.defaults.global.responsive=!1,this.draw()})},destroyed(){this.chart&&this.chart.destroy()}},_hoisted_1$e={class:"mode mode--chart"},_hoisted_2$8=["height","width"],_hoisted_3$6=["innerHTML"];function _sfc_render$g(e,t,r,o,n,s){return openBlock(),createElementBlock("div",_hoisted_1$e,[createBaseVNode("canvas",{ref:"chart",height:r.item.height||250,width:s.width},null,8,_hoisted_2$8),n.error?(openBlock(),createElementBlock("pre",{key:0,class:"chart-mode__error",innerHTML:n.error},null,8,_hoisted_3$6)):createCommentVNode("",!0)])}var ChartMode=_export_sfc(_sfc_main$g,[["render",_sfc_render$g]]),DaffMode_vue_vue_type_style_index_0_lang="";const _sfc_main$f={name:"daff-mode",props:["item"],data(){return{expanded:!1}},computed:{preview(){return!this.expanded&&this.table!==null&&this.table.height>10},table(){return parseData(this.item.v)}}};function parseData(e){try{const t=JSON.parse(e);return!Array.isArray(t.header)||!Array.isArray(t.rows)?null:{header:t.header,rows:t.rows,height:t.rows.length+1}}catch(t){return console.error(t),null}}const _hoisted_1$d={class:"mode mode--daff"},_hoisted_2$7={key:0,class:"daff-table"},_hoisted_3$5={key:0},_hoisted_4$4={key:1,class:"has-help",title:"Wrong Name"},_hoisted_5$2=createTextVNode(),_hoisted_6$1={key:2,class:"has-help",title:"Missing Column"},_hoisted_7$1={key:3,class:"has-help",title:"Excess Column"},_hoisted_8$1={key:4,class:"has-help",title:"Out of Order"},_hoisted_9$1=createTextVNode(),_hoisted_10$1=createBaseVNode("span",null,"\u21C4",-1),_hoisted_11$1={key:5,class:"value"},_hoisted_12$1={key:0,title:"Contains Incorrect Value",class:"has-help"},_hoisted_13$1={key:1,title:"Out of Order",class:"has-help"},_hoisted_14$1={key:2,title:"Missing Row",class:"has-help"},_hoisted_15$1=createBaseVNode("b",null,"?",-1),_hoisted_16$1=[_hoisted_15$1],_hoisted_17$1={key:3,title:"Excess Row",class:"has-help"},_hoisted_18$1={key:4,title:"Omitted Row",class:"has-help"},_hoisted_19$1={key:5,title:"Missing Value",class:"has-help"},_hoisted_20={key:6},_hoisted_21={class:"has-help",title:"Actual"},_hoisted_22=createTextVNode(" \u2192 "),_hoisted_23={class:"has-help",title:"Expected"},_hoisted_24={key:2},_hoisted_25={key:3};function _sfc_render$f(e,t,r,o,n,s){return openBlock(),createElementBlock("div",_hoisted_1$d,[createBaseVNode("div",{class:normalizeClass({"mode--daff--preview":s.preview})},[s.table?(openBlock(),createElementBlock("table",_hoisted_2$7,[createBaseVNode("thead",null,[createBaseVNode("tr",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.table.header,(a,c)=>(openBlock(),createElementBlock("th",{key:c,class:normalizeClass([{"action-column":c==0},a.t])},[c==0?(openBlock(),createElementBlock("span",_hoisted_3$5)):a.v&&a.a?(openBlock(),createElementBlock("span",_hoisted_4$4,[createBaseVNode("span",null,toDisplayString(a.v),1),_hoisted_5$2,createBaseVNode("s",null,toDisplayString(a.a),1)])):a.t=="add"?(openBlock(),createElementBlock("span",_hoisted_6$1,[createBaseVNode("span",null,toDisplayString(a.v),1)])):a.t=="remove"?(openBlock(),createElementBlock("span",_hoisted_7$1,[createBaseVNode("s",null,toDisplayString(a.v),1)])):a.t=="move"?(openBlock(),createElementBlock("span",_hoisted_8$1,[createBaseVNode("span",null,toDisplayString(a.v),1),_hoisted_9$1,_hoisted_10$1])):(openBlock(),createElementBlock("span",_hoisted_11$1,toDisplayString(a.v),1))],2))),128))])]),createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.table.rows,(a,c)=>(openBlock(),createElementBlock("tr",{key:c,class:normalizeClass([a.t])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.v,(l,d)=>(openBlock(),createElementBlock("td",{key:c+"_"+d,class:normalizeClass([{"action-column":d===0},l.t])},[d==0?(openBlock(),createElementBlock(Fragment,{key:0},[l.t=="modify"?(openBlock(),createElementBlock("span",_hoisted_12$1,"\u2022")):a.t=="move"?(openBlock(),createElementBlock("span",_hoisted_13$1,"\u21C5")):l.v=="+++"?(openBlock(),createElementBlock("span",_hoisted_14$1,_hoisted_16$1)):l.v=="---"?(openBlock(),createElementBlock("span",_hoisted_17$1,"\u274C")):l.v=="..."?(openBlock(),createElementBlock("span",_hoisted_18$1,"\u2026")):l.v=="+"?(openBlock(),createElementBlock("span",_hoisted_19$1,toDisplayString(l.v),1)):(openBlock(),createElementBlock("span",_hoisted_20,toDisplayString(l.v),1))],64)):l.e&&l.a?(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode("s",_hoisted_21,toDisplayString(l.a),1),_hoisted_22,createBaseVNode("span",_hoisted_23,toDisplayString(l.e),1)],64)):l.t==="remove"?(openBlock(),createElementBlock("s",_hoisted_24,toDisplayString(l.v),1)):(openBlock(),createElementBlock("span",_hoisted_25,toDisplayString(l.v),1))],2))),128))],2))),128))])])):createCommentVNode("",!0)],2),s.preview?(openBlock(),createElementBlock("div",{key:0,class:"mode--daff__view-full",onClick:t[0]||(t[0]=a=>n.expanded=!0)}," Show All ")):createCommentVNode("",!0)])}var DaffMode=_export_sfc(_sfc_main$f,[["render",_sfc_render$f]]),DiffMode_vue_vue_type_style_index_0_lang="";const _sfc_main$e={name:"diff-mode",props:["item"],computed:{original(){return this.item.original||this.$parent.item.v},diffValues(){try{const e=this.original+`
`,t=this.item.v+`
`;return diff.diffChars(e,t)}catch(e){return console.log(e),""}}}},_hoisted_1$c={class:"diff-mode"},_hoisted_2$6=["innerHTML"];function _sfc_render$e(e,t,r,o,n,s){return openBlock(),createElementBlock("div",_hoisted_1$c,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.diffValues,(a,c)=>(openBlock(),createElementBlock("span",{key:c,innerHTML:a.value,class:normalizeClass({added:a.added,removed:a.removed,unchanged:!a.added&&!a.removed})},null,10,_hoisted_2$6))),128))])}var DiffMode=_export_sfc(_sfc_main$e,[["render",_sfc_render$e]]),ShellMode_vue_vue_type_style_index_0_lang="";const _sfc_main$d={name:"shell-mode",props:["item"],data(){return{expanded:!1}},computed:{lines(){return this.item.v.split(`
`)},preview(){return!this.expanded&&(this.item.v.length>1250||this.lines.length>15)}}},_hoisted_1$b=["innerHTML"];function _sfc_render$d(e,t,r,o,n,s){return openBlock(),createElementBlock("div",{class:normalizeClass(["mode mode--shell",{"mode--shell--preview":s.preview}])},[createBaseVNode("div",{class:"mode-shell__value",innerHTML:r.item.v},null,8,_hoisted_1$b),s.preview?(openBlock(),createElementBlock("div",{key:0,class:"mode--shell__view-full",onClick:t[0]||(t[0]=a=>n.expanded=!0)}," Show All ")):createCommentVNode("",!0)],2)}var ShellMode=_export_sfc(_sfc_main$d,[["render",_sfc_render$d]]),LogType_vue_vue_type_style_index_0_lang="";const _sfc_main$c={name:"log-mode",props:["item"],data(){return{collapsed:this.item.l&&this.item.l.indexOf("-")===0,activeTab:null,scripted:{}}},computed:{isOut(){return this.item.t==="out"},label(){return this.item.l?this.item.l.replace(/^-/,""):"Log"},modeComponent(){return this.activeItem.m?`${this.activeItem.m.toLowerCase()}-mode`:""},tabs(){return this.item.tabs||[]},activeItem(){return this.activeTab||this.item}},updated(){},methods:{toggleTab(e){this.activeTab===e?this.collapsed=!this.collapsed:(this.activeTab=e,this.collapsed=!1)}},components:{RunValue,EscMode,HtmlMode,ScriptMode,TableMode,ChartMode,DaffMode,DiffMode,ShellMode,ChevronDownIcon:render$2,ChevronRightIcon:render$1}},_hoisted_1$a={key:0,class:"result-type__tabs py-0.5 flex items-center justify-start"},_hoisted_2$5={class:"result-type__chevron"},_hoisted_3$4={class:"leading-relaxed"},_hoisted_4$3=["onClick"];function _sfc_render$c(e,t,r,o,n,s){const a=resolveComponent("ChevronRightIcon"),c=resolveComponent("ChevronDownIcon"),l=resolveComponent("run-value");return openBlock(),createElementBlock("div",{class:normalizeClass(["result-type--log my-1.5",[n.collapsed?"result-type--collapsed":"result-type--expanded",s.isOut?"result-type--out p1":"p-1"]])},[r.item.t!=="out"?(openBlock(),createElementBlock("div",_hoisted_1$a,[createBaseVNode("label",{onClick:t[0]||(t[0]=d=>s.toggleTab(null)),class:normalizeClass(["inline-flex items-center justify-center space-x-0.5",{active:!n.activeTab}])},[createBaseVNode("span",_hoisted_2$5,[n.collapsed?(openBlock(),createBlock(a,{key:0,class:"w-4 h-4 grow-0 shrink-0 basis-4"})):(openBlock(),createBlock(c,{key:1,class:"w-4 h-4 grow-0 shrink-0 basis-4"}))]),createBaseVNode("span",_hoisted_3$4,toDisplayString(s.label),1)],2),(openBlock(!0),createElementBlock(Fragment,null,renderList(s.tabs,(d,u)=>(openBlock(),createElementBlock("label",{class:normalizeClass(["ml-2",{active:n.activeTab===d}]),key:u,onClick:$=>s.toggleTab(d)},[createBaseVNode("span",null,toDisplayString(d.l),1)],10,_hoisted_4$3))),128))])):createCommentVNode("",!0),withDirectives(createBaseVNode("div",{class:normalizeClass(s.isOut?"":"mt-1 p-1")},[s.activeItem.m?(openBlock(),createBlock(resolveDynamicComponent(s.modeComponent),{key:0,item:s.activeItem},null,8,["item"])):(openBlock(),createBlock(l,{key:1,class:"result-type__value",value:s.activeItem.v,scripts:!0},null,8,["value"]))],2),[[vShow,!n.collapsed]])],2)}var LogType=_export_sfc(_sfc_main$c,[["render",_sfc_render$c]]),ResultType_vue_vue_type_style_index_0_lang="";const _sfc_main$b={name:"result-type",props:["item"],computed:{value(){return this.item.v.replace(/^[\n ]*/,"").trim()}},components:{CheckCircleIcon:render$3,ExclamationCircleIcon:render$4}};function _sfc_render$b(e,t,r,o,n,s){const a=resolveComponent("CheckCircleIcon"),c=resolveComponent("ExclamationCircleIcon");return openBlock(),createElementBlock("div",{class:normalizeClass(["result-type--result flex flx-row py-1",r.item.t])},[r.item.t=="passed"?(openBlock(),createBlock(a,{key:0,class:"w-4 h-4 grow-0 shrink-0 basis-4"})):(openBlock(),createBlock(c,{key:1,class:"w-4 h-4 grow-0 shrink-0 basis-4"})),createBaseVNode("span",{class:normalizeClass(["result-type__value ml-1.5",r.item.t])},toDisplayString(s.value),3)],2)}var ResultType=_export_sfc(_sfc_main$b,[["render",_sfc_render$b]]),ErrorType_vue_vue_type_style_index_0_lang="";const _sfc_main$a={name:"error-type",props:["item","name"],computed:{value(){return this.item&&this.item.v.trim()}}},_hoisted_1$9=["name"];function _sfc_render$a(e,t,r,o,n,s){return openBlock(),createElementBlock("div",{class:"result-type--error",name:r.name},[renderSlot(e.$slots,"default",{},()=>[createBaseVNode("pre",null,toDisplayString(s.value),1)])],8,_hoisted_1$9)}var ErrorType=_export_sfc(_sfc_main$a,[["render",_sfc_render$a]]),TimeType_vue_vue_type_style_index_0_lang="";const _sfc_main$9={name:"time-type",props:["item"],computed:{notZero(){return!/^0ms/.test(this.ms)},ms(){var e=this.item&&this.item.v||"";return e.includes("ms")||e.includes("seconds")?this.item.v:this.item.v+"ms"}}},_hoisted_1$8={key:0,class:"result-type--time"};function _sfc_render$9(e,t,r,o,n,s){return r.item.v&&s.notZero?(openBlock(),createElementBlock("div",_hoisted_1$8," Completed in "+toDisplayString(s.ms),1)):createCommentVNode("",!0)}var TimeType=_export_sfc(_sfc_main$9,[["render",_sfc_render$9]]),RunResultType_vue_vue_type_style_index_0_lang="";const types={describe:TreeType,it:TreeType,log:LogType,passed:ResultType,failed:ResultType,error:ErrorType,completedin:TimeType},_sfc_main$8={name:"run-result-type",props:["item","collapsed"],computed:{TypeComponent(){return types[this.item&&this.item.t]||LogType}}};function _sfc_render$8(e,t,r,o,n,s){return openBlock(),createBlock(resolveDynamicComponent(s.TypeComponent),{item:r.item,collapsed:r.collapsed},null,8,["item","collapsed"])}var RunResultType=_export_sfc(_sfc_main$8,[["render",_sfc_render$8]]);const testCaseMatches=(e,t)=>{if(e.t==="it")return t(e)},testGroupMatches=(e,t)=>{if(e.t==="describe"&&e.items)return e.items.some(r=>{if(r.t==="describe")return testGroupMatches(r,t);if(r.t==="it")return testCaseMatches(r,t)})},_sfc_main$7={name:"run-result-item",props:{item:Object,depth:Number,index:Number},data(){const e=!!this.item.p&&(this.item.t!=="describe"||this.depth>0);return{collapsed:e,renderChildren:!e,minHeight:20,lazy:this.index>10}},computed:h(_(_({},mapState("ui",["onlyHidden"])),mapGetters("ui",{onlyPassed:"onlyShowPassed",onlyFailed:"onlyShowFailed",onlyErrored:"onlyShowErrored"})),{selectedByVisibility(){if(this.onlyHidden){const e=t=>t.hidden===!0;if(this.item.t==="it")return testCaseMatches(this.item,e);if(this.item.t==="describe")return testGroupMatches(this.item,e)}return!0},selectedByResult(){if(this.onlyPassed||this.onlyFailed){const e=this.onlyPassed,t=r=>r.p===e;if(this.item.t==="it")return testCaseMatches(this.item,t);if(this.item.t==="describe")return testGroupMatches(this.item,t)}else if(this.onlyErrored){const e=t=>t.items&&t.items.some(r=>r.t==="error");if(this.item.t==="it")return testCaseMatches(this.item,e);if(this.item.t==="describe")return testGroupMatches(this.item,e)}return!0},isPrivileged(){return this.$store.getters.isPrivileged},hiddenTests(){if(this.item.hidden)return!0;const e=this.item.items;return e?e.length>0&&e.every(t=>t.hidden):!1},shouldShow(){return this.selectedByVisibility&&this.selectedByResult&&(!this.hiddenTests||this.isPrivileged)}}),components:{RunResultType,LazyContainer},methods:{toggleChildren(){this.collapsed=!this.collapsed,!this.collapsed&&!this.renderChildren&&(this.renderChildren=!0)}}},_hoisted_1$7={key:0},_hoisted_2$4={key:0,class:"ml-5"};function _sfc_render$7(e,t,r,o,n,s){const a=resolveComponent("run-result-type"),c=resolveComponent("run-result-item",!0),l=resolveComponent("LazyContainer");return withDirectives((openBlock(),createBlock(l,{"min-height":n.minHeight,lazy:n.lazy},{default:withCtx(()=>[createVNode(a,{item:r.item,collapsed:n.collapsed,onToggleChildren:s.toggleChildren},null,8,["item","collapsed","onToggleChildren"]),r.item.items?withDirectives((openBlock(),createElementBlock("div",_hoisted_1$7,[n.renderChildren?(openBlock(),createElementBlock("div",_hoisted_2$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.item.items,(d,u)=>(openBlock(),createBlock(c,{key:u,item:d,depth:r.depth+1,index:u},null,8,["item","depth","index"]))),128))])):createCommentVNode("",!0)],512)),[[vShow,!n.collapsed]]):createCommentVNode("",!0)]),_:1},8,["min-height","lazy"])),[[vShow,s.shouldShow]])}var RunResultItem=_export_sfc(_sfc_main$7,[["render",_sfc_render$7]]);const _sfc_main$6={name:"hidden-tests-filter",computed:h(_({},mapState("ui",{active:"onlyHidden"})),{hidden(){const e=this.response.result;if(e){if(e.successMode==="assertions"&&e.assertions)return e.assertions.hidden;if(e.specs)return e.specs.hidden}return null},response(){return this.$store.state.runner.response},isPrivileged(){return this.$store.getters.isPrivileged},hasHidden(){return this.hidden&&((this.hidden.passed||0)>0||(this.hidden.failed||0)>0)},text(){return this.total?`${this.hidden.passed} of ${this.total}`:"None"},total(){return this.hidden.total>=0?this.hidden.total:(this.hidden.passed||0)+(this.hidden.failed||0)},status(){return this.hidden.passed===this.total?"passed":this.hidden.passed===0?"failed":"partial"}}),methods:_({},mapMutations("ui",["toggleHiddenTagFilter"])),components:{EyeOffIcon:render}},_hoisted_1$6=createBaseVNode("span",{class:"bold uppercase"},"Hidden:",-1);function _sfc_render$6(e,t,r,o,n,s){const a=resolveComponent("EyeOffIcon");return s.isPrivileged&&s.hasHidden?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["cursor-pointer select-none inline-flex items-center justify-center space-x-1 align-middle rounded text-xs mb-2 py-0.5 px-1 text-gray-600 dark:text-gray-400 hover:bg-black/10 dark:hover:bg-white/10 border border-solid",{"border-success":s.status==="passed","border-failure":s.status==="failed","border-warning":s.status==="partial","bg-black/10 dark:bg-white/10":e.active}]),onClick:t[0]||(t[0]=(...c)=>e.toggleHiddenTagFilter&&e.toggleHiddenTagFilter(...c))},[createVNode(a,{class:"w-3 h-3"}),_hoisted_1$6,createBaseVNode("span",null,toDisplayString(s.text),1)],2)):createCommentVNode("",!0)}var HiddenTestsFilter=_export_sfc(_sfc_main$6,[["render",_sfc_render$6]]),RunResults_vue_vue_type_style_index_0_lang="";const _sfc_main$5={name:"run-results",computed:{hasError(){return this.response?this.isExecutionFailure||this.timedOut||this.response.exitSignal||this.response.message:!1},hasResult(){const e=this.response;if(!e)return!1;const t=e.result;return t?Array.isArray(t.output)&&t.output.length>0:!1},isExecutionFailure(){return this.response.flags&&this.response.flags.executionFailure},timedOut(){return this.response.flags&&this.response.flags.timeout},resultsClass(){return{"run-results--stderr":this.hasError}},response(){return this.$store.state.runner.response},shell(){return this.response&&this.response.shell},showCongrats(){return this.$store.state.settings.showCongrats&&this.response&&this.response.result.completed},successResult(){let e;return this.response.result.successMode&&(e=this.response.result[this.response.result.successMode]),e||this.response.result},isPrivileged(){return this.$store.getters.isPrivileged},visibleTestsPassed(){if(this.timedOut)return!1;const e=this.successResult;return!this.isPrivileged&&!e.failed?!0:this.response.flags&&this.response.flags.passed}},components:{RunResultItem,LogType,HiddenTestsFilter}},_hoisted_1$5={key:0},_hoisted_2$3={class:"run-results__result-items"},_hoisted_3$3={key:1},_hoisted_4$2={key:0,class:"run-results__congrats"},_hoisted_5$1={key:1,class:"missing-output"};function _sfc_render$5(e,t,r,o,n,s){const a=resolveComponent("hidden-tests-filter"),c=resolveComponent("run-result-item"),l=resolveComponent("log-type");return s.response&&!s.isExecutionFailure?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["run-results",s.resultsClass])},[s.hasResult?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("div",null,[createBaseVNode("h2",{class:normalizeClass(s.visibleTestsPassed?"passed":"failed")},"Test Results:",2),s.isPrivileged?(openBlock(),createElementBlock("div",_hoisted_1$5,[createVNode(a)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_2$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.response.result.output,(d,u)=>(openBlock(),createBlock(c,{key:u,item:d,depth:0,index:u},null,8,["item","index"]))),128))]),s.response.stderr?(openBlock(),createElementBlock("div",_hoisted_3$3,[createVNode(l,{item:{v:s.response.stderr,l:`${s.response.result.completed?"-":""}STDERR`}},null,8,["item"])])):createCommentVNode("",!0)]),s.showCongrats?(openBlock(),createElementBlock("div",_hoisted_4$2," You have passed all of the tests! :) ")):createCommentVNode("",!0)],64)):s.response.flags&&s.response.flags.empty?(openBlock(),createElementBlock("div",_hoisted_5$1," Response received but no data was written to STDOUT or STDERR. ")):createCommentVNode("",!0)],2)):createCommentVNode("",!0)}var RunResults=_export_sfc(_sfc_main$5,[["render",_sfc_render$5]]),RunTip_vue_vue_type_style_index_0_lang="";const _sfc_main$4={name:"run-tip"},_hoisted_1$4={class:"run-tip"};function _sfc_render$4(e,t,r,o,n,s){return openBlock(),createElementBlock("div",_hoisted_1$4,[renderSlot(e.$slots,"default")])}var RunTip=_export_sfc(_sfc_main$4,[["render",_sfc_render$4]]),RunErrors_vue_vue_type_style_index_0_lang="";const _sfc_main$3={name:"run-errors",computed:{error(){return this.$store.state.runner.error},response(){return this.$store.state.runner.response},hasResult(){return this.response&&this.response.result.output&&this.response.result.output.length>0},showStderr(){return!this.hasResult&&this.hasStdErr},isRequestError(){const e=this.error;if(!e)return!1;const t=this.response;return!t||!(t.flags&&t.flags.executionFailure)?!0:e.status||e.message},hasStdErr(){const e=this.response;return!e||!e.stderr?!1:e.flags&&e.flags.executionFailure||!this.similarOutputItem},flattened(){return this.response?collectItems(this.response.result.output):[]},similarOutputItem(){if(this.response&&this.response.stderr){var e=this.response.stderr;return this.flattened.find(t=>{if(t.v&&t.t==="error"||t.t==="failed"){var r=t.v.trim()||"";return r.length>15&&(r===e||r.indexOf(e)>=0||e.indexOf(r)>=0)}})}return null}},methods:{retry(){this.$store.dispatch("runner.retry")}},components:{ErrorType,RunTip}};function collectItems(e){return e?flatten([flatten(e),flatten(e.map(t=>collectItems(t.items)))]):[]}function flatten(e){return[].concat.apply([],e)}const _hoisted_1$3={key:0,class:"run-errors"},_hoisted_2$2={key:0},_hoisted_3$2=createBaseVNode("h2",null,"STDERR:",-1),_hoisted_4$1=createBaseVNode("strong",null,"Why did my code time out?",-1),_hoisted_5=createBaseVNode("p",null," Our servers are configured to only allow a certain amount of time for your code to execute. In rare cases the server may be taking on too much work and simply wasn't able to run your code efficiently enough. Most of the time though this issue is caused by inefficient algorithms. If you see this error multiple times you should try to optimize your code further. ",-1),_hoisted_6={key:2},_hoisted_7=createBaseVNode("h2",null,"Server Execution Error:",-1),_hoisted_8={key:0},_hoisted_9={key:1},_hoisted_10={key:1},_hoisted_11={key:0},_hoisted_12=createTextVNode(" Unauthorized "),_hoisted_13={key:1},_hoisted_14=createBaseVNode("h2",null,"Request Error:",-1),_hoisted_15={key:0},_hoisted_16={key:1},_hoisted_17={key:2},_hoisted_18={key:3},_hoisted_19=createTextVNode(" This error was caused due to an issue processing the web request, not because of an issue executing your code. ");function _sfc_render$3(e,t,r,o,n,s){const a=resolveComponent("error-type"),c=resolveComponent("run-tip");return s.response||s.error?(openBlock(),createElementBlock("div",_hoisted_1$3,[s.response?(openBlock(),createElementBlock(Fragment,{key:0},[s.showStderr?(openBlock(),createElementBlock("div",_hoisted_2$2,[_hoisted_3$2,createVNode(a,{name:"stderr"},{default:withCtx(()=>[createBaseVNode("pre",null,toDisplayString(s.response.stderr),1)]),_:1})])):createCommentVNode("",!0),s.response.flags&&s.response.flags.timeout?(openBlock(),createBlock(c,{key:1},{default:withCtx(()=>[_hoisted_4$1,_hoisted_5]),_:1})):createCommentVNode("",!0),s.response.flags&&s.response.flags.executionFailure?(openBlock(),createElementBlock("div",_hoisted_6,[_hoisted_7,createVNode(a,{name:"server"},{default:withCtx(()=>[s.response.message?(openBlock(),createElementBlock("div",_hoisted_8,[createBaseVNode("pre",null,toDisplayString(s.response.message),1)])):(openBlock(),createElementBlock("div",_hoisted_9," The server attempted to execute your code but there was an issue with the request. This should be a rare issue. Please try running your code again. If the issue persists, please contact us. "))]),_:1})])):createCommentVNode("",!0)],64)):createCommentVNode("",!0),s.isRequestError?(openBlock(),createElementBlock("div",_hoisted_10,[s.error.status===401?(openBlock(),createElementBlock("div",_hoisted_11,[createVNode(a,{name:"request"},{default:withCtx(()=>[_hoisted_12]),_:1})])):(openBlock(),createElementBlock("div",_hoisted_13,[_hoisted_14,createVNode(a,{name:"request"},{default:withCtx(()=>[s.error.status?(openBlock(),createElementBlock("h4",_hoisted_15," Request failed with status code "+toDisplayString(s.error.status),1)):s.error.message?(openBlock(),createElementBlock("h4",_hoisted_16,toDisplayString(s.error.message),1)):createCommentVNode("",!0),s.error.status>=400&&s.error.status<500?(openBlock(),createElementBlock("p",_hoisted_17," Please fix the issue and try again. ")):(openBlock(),createElementBlock("p",_hoisted_18,[_hoisted_19,createBaseVNode("a",{class:"retry",onClick:t[0]||(t[0]=(...l)=>s.retry&&s.retry(...l))},"You can retry the request.")]))]),_:1})]))])):createCommentVNode("",!0)])):createCommentVNode("",!0)}var RunErrors=_export_sfc(_sfc_main$3,[["render",_sfc_render$3]]),RealtimeOutput_vue_vue_type_style_index_0_lang="";const _sfc_main$2={name:"realtime-output",computed:_({flags(){return this.response&&this.response.flags}},mapState({response:e=>e.runner.response,stdout:e=>sanitizeOutput(e.runner.realtime&&e.runner.realtime.stdout),stderr:e=>sanitizeOutput(e.runner.realtime&&e.runner.realtime.stderr)}))};function sanitizeOutput(e){if(e)return e.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"")}const _hoisted_1$2={key:0,class:"realtime-output"},_hoisted_2$1=createBaseVNode("h2",null,"STDOUT BUFFER:",-1),_hoisted_3$1={class:"realtime-output__body"},_hoisted_4=createBaseVNode("label",null," Output is displayed in realtime as your code runs. It will be formatted after the code has finished executing. ",-1);function _sfc_render$2(e,t,r,o,n,s){return e.stdout?(openBlock(),createElementBlock("div",_hoisted_1$2,[_hoisted_2$1,createBaseVNode("div",_hoisted_3$1,[_hoisted_4,createBaseVNode("pre",null,toDisplayString(e.stdout),1)])])):createCommentVNode("",!0)}var RealtimeOutput=_export_sfc(_sfc_main$2,[["render",_sfc_render$2]]),RunOutput_vue_vue_type_style_index_0_lang="";const _sfc_main$1={name:"run-output",computed:{response(){return this.$store.state.runner.response},error(){return this.$store.state.runner.error},running(){return this.$store.getters.running}},created(){},components:{RunMessage,RunSummary,RunResults,RunErrors,RealtimeOutput}},_hoisted_1$1={key:0,class:"run-output"},_hoisted_2={class:"run-output__body"},_hoisted_3={key:1,class:"run-output-hello"};function _sfc_render$1(e,t,r,o,n,s){const a=resolveComponent("run-summary"),c=resolveComponent("run-message"),l=resolveComponent("run-results"),d=resolveComponent("run-errors"),u=resolveComponent("realtime-output");return s.response||s.running||s.error?(openBlock(),createElementBlock("div",_hoisted_1$1,[withDirectives(createVNode(a,null,null,512),[[vShow,!s.running]]),createBaseVNode("div",_hoisted_2,[createVNode(c),withDirectives(createVNode(l,null,null,512),[[vShow,!s.running]]),withDirectives(createVNode(d,null,null,512),[[vShow,!s.running]]),withDirectives(createVNode(u,null,null,512),[[vShow,s.running]])])])):(openBlock(),createElementBlock("div",_hoisted_3,"Your results will be shown here."))}var RunOutput=_export_sfc(_sfc_main$1,[["render",_sfc_render$1]]),App_vue_vue_type_style_index_0_lang="";const _sfc_main={name:"app",computed:_({bodyClass(){const e=this.theme;return e==="night"?"dark":e}},mapState({theme:e=>e.settings.theme})),methods:{updateBodyClass(){document.body.className=this.bodyClass}},created(){this.updateBodyClass()},watch:{theme(){this.updateBodyClass()}},components:{RunOutput}},_hoisted_1={class:"app"};function _sfc_render(e,t,r,o,n,s){const a=resolveComponent("run-output");return openBlock(),createElementBlock("div",_hoisted_1,[createVNode(a)])}var App=_export_sfc(_sfc_main,[["render",_sfc_render]]);function get(e,t,r){return r=r||{},e.split(t).forEach(o=>{if(o){const n=o.split("=");if(n.length===2){let s=decodeURIComponent(n[1]||"");s==="true"&&(s=!0),s==="false"&&(s=!1);const a=parseInt(s,10);a.toString()===s&&(s=a),r[n[0]]=s}}}),r}function getQueryString(e){return get(window.location.search,/[?&]/,e)}function getHash(e){return get(window.location.hash,/[#&]/,e)}const Ably=window.Ably;let channel=null,client=null,channelName=`runner:${guid()}`;const state$4={request:null,response:null,status:"ready",message:null,realtime:null,error:null,successMode:null,pro:!!getHash().pro,hostname:getHash().runnerHostname||hostname(),display:null,detectHTML:getHash().detectHTML!==!1},getters$4={runMessage(e){if(e.status==="running")return e.realtime&&e.realtime.message?e.realtime.message:e.message},hasTests(e){if(e.response&&e.response.result)return e.response.result.failed>0||e.response.result.passed>0},running(e){return e.status==="running"},ran(e){return e.status==="ran"}},actions$3={"runner.display":({commit:e},t)=>{e("runner.DISPLAY",t)},"runner.newConnection":async({commit:e,dispatch:t,state:r})=>{if(r.realtime)reconnectAbly();else{e("runner.CONNECTING");try{const o=await getAblyToken(r.hostname);client=new Ably.Realtime(o),client.connection.on("disconnected",()=>e("runner.DISCONNECTED")),client.connection.on("connected",()=>{channel?reattachChannel():(channel=client.channels.get(channelName),channel.subscribe("stdout",n=>e("runner.REALTIME_STDOUT",sanitizeStdout(n.data))),channel.subscribe("status",n=>e("runner.REALTIME_RUN_MESSAGE",n.data))),e("runner.CONNECTED"),t("bridge.send",{method:"ready"})})}catch(o){e("runner.CONNECTION_ERROR",o)}}},"runner.runRequest":async({state:e,commit:t},r)=>{t("runner.RUNNING",r),reconnectAbly(),dressRequest(e,r);try{const n=(await axios.post(`${getScheme(e.hostname)}://${e.hostname}/run`,r)).data;return t("runner.RAN",n),n}catch(o){if(t("runner.FAILED",o),o.response&&o.response.data&&o.response.data.type){const n=o.response.data;return t("runner.RAN",n),n}throw o}},"runner.retry":({state:e,dispatch:t})=>{e.request&&t("runner.runRequest",e.request)},"runner.authorizing":()=>{},"runner.authorized":(e,t)=>{axios.defaults.headers.Authorization=`Bearer ${t}`},"runner.authFailed":()=>{}},mutations$4={"runner.ASSIGN":(e,t)=>{Object.assign(e,t)},"runner.CONNECTING":e=>{e.realtime={connected:!1,error:null}},"runner.CONNECTION_ERROR":(e,t)=>{e.realtime.error=t?t.toString():!0},"runner.DISCONNECTED":e=>{e.realtime&&(e.realtime.connected=!1)},"runner.CONNECTED":e=>{resetRealtime(e,!0)},"runner.RUNNING":(e,t)=>{e.request=t,e.response=null,e.status="running",e.message="Sending request...",e.error=null,resetRealtime(e)},"runner.RAN":(e,t)=>{e.status="ran",e.message=null,resetRealtime(e),dressResponse(t),e.response=t},"runner.FAILED":(e,t)=>{e.status="failed",e.error={message:t.message,status:t.status||t.response&&t.response.status},e.response=null},"runner.DISPLAY":(e,t)=>{t.response&&!t.response.flags&&dressResponse(t.response),e.request=t.request,e.response=t.response,e.message=null,e.status="ran"},"runner.REALTIME_RUN_MESSAGE":(e,t)=>{e.realtime.message=t},"runner.REALTIME_STDOUT":(e,t)=>{e.realtime.stdout+=t},"runner.REALTIME_STDERR":(e,t)=>{e.realtime.stderr+=t}};var runner={state:state$4,getters:getters$4,actions:actions$3,mutations:mutations$4};function resetRealtime(e,t=e.realtime&&e.realtime.connected){e.realtime={stdout:"",stderr:"",connected:t,message:null}}const getScheme=e=>/^localhost:/.test(e)?"http":"https";function getAblyToken(e){return new Promise((t,r)=>{axios.post(`${getScheme(e)}://${e}/token`).then(o=>o.data.token?t(o.data.token):r(o)).catch(r)})}function reconnectAbly(){client&&(!state$4.realtime||!state$4.realtime.connected)?client.connect():reattachChannel()}function reattachChannel(){channel&&channel.state==="detached"&&channel.attach()}function sanitizeStdout(e){return e=e.replace(/<PROP::.*>.*\\n/g,""),e.replace(/<[A-Z]*:[A-Z]*:.*>/g,"")}function dressRequest(e,t){t.channel=channelName,e.pro&&(t.ably=!0,t.batch=!0),t.successMode=t.successMode||e.successMode,!t.testFramework&&t.fixture&&delete t.fixture}function dressResponse(e){if(!e)return;e.stderr&&(e.stderr=e.stderr.trim());const t=e.type,r=e.result,o=t==="execution success",n=t==="max_time_reached",s=!o&&!n&&!!t,c=!(r&&r.output&&r.output.length>0)&&!e.stderr&&!s,l=r&&r.completed&&!e.exitCode;e.flags={success:o,timeout:n,executionFailure:s,empty:c,passed:l}}function hostname(){return getHash().hostname||window.location.hostname==="localhost"?"localhost:8082":window.location.hostname.replace("cr-staging.codewars","runner-staging.codewars").replace("cr.codewars","runner.codewars").replace("cr-red.codewars","runner-red.codewars").replace("cr-staging.qualified","coderunner-staging.qualified").replace("cr.qualified","coderunner-production.qualified").replace("cr2.qualified","coderunner-production2.qualified")}const isTop=window.self===window.top,frameId=getHash().fid||"default",legacyMappings={run:"runner.runRequest",display:"runner.display"},state$3={enabled:!0},getters$3={},actions$2={"bridge.disable":({commit:e})=>{e("bridge.DISABLE")},"bridge.receive":({dispatch:e},t)=>{if(!(!t||!t.method)&&(isTop||e("bridge.send",{method:"notifyReceipt",message:t}),legacyMappings[t.method]&&(t.method=legacyMappings[t.method],t.action=!0),t.action)){const r=e(t.method,t.data);r&&!isTop&&Promise.resolve(r).then(o=>e("bridge.send",{method:"notifyResult",message:t,result:o})).catch(o=>e("bridge.send",{method:"notifyResult",message:t,error:o+""}))}},"bridge.send":({state:e},t)=>{if(!!e.enabled)try{t.frameId=frameId,window.parent.postMessage(t,"*")}catch(r){console.error("Failed to post",t,r)}}},mutations$3={"bridge.DISABLE":e=>{e.enabled=!1}};var bridge={state:state$3,getters:getters$3,actions:actions$2,mutations:mutations$3};const state$2={theme:"day",showCongrats:!1},getters$2={},actions$1={"settings.assignParams":({state:e,commit:t},r)=>{const o={};r&&Object.keys(r).forEach(n=>{n in e&&(o[n]=r[n])}),t("settings.ASSIGN",o)},"settings.assign":({commit:e},t)=>{e("settings.ASSIGN",Array.isArray(t)?{[t[0]]:t[1]}:t)}},mutations$2={"settings.ASSIGN":(e,t)=>{Object.assign(e,t)}};var settings={state:state$2,getters:getters$2,actions:actions$1,mutations:mutations$2};const state$1={isPrivileged:null},getters$1={isPrivileged(e,t){const r=t.privilegeMode===null?e.isPrivileged:t.privilegeMode;return r===!0||r===null&&!t.isSolving},privilegeMode(e,t,r){const o=r.runner.response,n=r.runner.request;return o&&o.privilegeMode?o.privilegeMode!=="none":n&&n.privilegeMode?n.privilegeMode!=="none":null}},actions={"permissions.setPrivileged":({commit:e},t)=>{e("permissions.SET_PRIVILEGED",t)}},mutations$1={"permissions.SET_PRIVILEGED":(e,t)=>{e.isPrivileged=t}};var permissions={state:state$1,getters:getters$1,actions,mutations:mutations$1};const state=()=>({onlyHidden:!1,filter:null}),getters={filterIsActive:e=>e.filter!==null,onlyShowPassed:e=>e.filter==="passed",onlyShowFailed:e=>e.filter==="failed",onlyShowErrored:e=>e.filter==="errored"},mutations={toggleHiddenTagFilter(e){e.onlyHidden=!e.onlyHidden},togglePassedTestsFilter(e){e.filter=e.filter==="passed"?null:"passed"},toggleFailedTestsFilter(e){e.filter=e.filter==="failed"?null:"failed"},toggleErroredTestsFilter(e){e.filter=e.filter==="errored"?null:"errored"},clearTestsFilter(e){e.filter=null}};var ui={namespaced:!0,state,getters,mutations};const modules={permissions,runner,settings,bridge,ui};var store=createStore({modules});const initParams=e=>{const t=getHash();e.dispatch("permissions.setPrivileged",!!t.privileged),e.dispatch("settings.assignParams",{pro:t.pro||!1,theme:normalizeTheme(t.theme),showCongrats:t.congrats}),e.dispatch("settings.assignParams",getQueryString())},normalizeTheme=e=>{switch(e){case"night":case"dark":return"night";default:return"day"}},DOMAINS=["codewars.com(:\\d+)?","codewars.io(:\\d+)?","qualified.io(:\\d+)?","localhost(:\\d+)?"],initV1=e=>{initParams(e),window.addEventListener("message",function(t){endsWithAny(t.origin,DOMAINS)&&(t.data.method?e.dispatch("bridge.receive",t.data):(!t.data.source||t.data.source.indexOf("devtools")===-1)&&console.log("Message received with data",t.data))}),e.dispatch("runner.newConnection")},ALLOWED_ORIGINS=/^https?:\/\/(?:[a-z][-a-z\d]*\.)?(?:codewars\.com|qualified\.io|localhost)(?::\d+)?$/,initV2=async e=>{e.dispatch("bridge.disable"),initParams(e);let t=0;const r=await connectToParent({paentOrigin:ALLOWED_ORIGINS,methods:{async run(o,n){typeof r.onReceipt=="function"&&r.onReceipt(n),now()+60>=t&&(e.dispatch("runner.authorizing"),t=await auth(r,e));try{return{result:await e.dispatch("runner.runRequest",o)}}catch(s){return{error:s+""}}},display(o,n){typeof r.onReceipt=="function"&&r.onReceipt(n),e.dispatch("runner.display",o)},setOptions(o,n){typeof r.onReceipt=="function"&&r.onReceipt(n),e.dispatch("settings.assign",o)}}}).promise;if(typeof r.authorize!="function")throw new Error("authorize method is required");return await e.dispatch("runner.newConnection"),typeof r.onReady=="function"&&r.onReady(),r},now=()=>Math.floor(Date.now()/1e3),auth=async(e,t)=>{try{const r=await e.authorize();if(typeof r!="string")throw new TypeError("authorize() must provide a string token");const o=JSON.parse(atob(r.split(".")[1]));return t.dispatch("runner.authorized",r),o.exp}catch{return t.dispatch("runner.authFailed"),-1}},initConnection=(e,t)=>{e==="v2"?initV2(t):initV1(t)};var index="";const app=createApp(App);init({app,dsn:"https://00e233bc388f4d758a98ccce1fb64f5a@o31370.ingest.sentry.io/239768",integrations:[]});const queryParams=new window.URL(window.document.location).searchParams;initConnection(queryParams.get("api"),store);app.use(store);app.mount("#app");
